@model Zlotowkarze.ViewModel.GameViewModel

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    ViewBag.Title = "Game";
}
<head>
    <title>Game</title>

    <style>
        .answer-button {
            height: 100px; 
            width: 300px; 
            margin: 20px 10px 0px 10px; 
            background-color: white; 
            border: solid 8px; 
            border-color: black;
            white-space: normal;
        }

        .answer-button-wrong {
            background-color: red !important;
        }

        .answer-button-right {
            background-color: green !important;
        }

        .answer-button-dunno {
            background-color: yellow;
        }

        .question-box {
            margin: 0px 0px 0px 0px;
            padding: 10px 10px 10px 10px;
            height: 174px; 
            width: 500px; 
            border: solid 12px; 
            border-color: black; 
            text-align: center;
            font-size: 24px;
        }

        .coin-box {
            margin: 0px 0px 0px 80px;
            padding: 0px 0px 0px 0px;
            width: 415px;
            height: 174px;
            border: solid 12px;
            border-color: black;
        }
    </style>
    <script type="text/javascript">
    function Answer(answerNumber)
    {
        var el = document.getElementsByClassName("answer-button");

        var model = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(this.Model.answers));

        el[answerNumber].classList.add("answer-button-dunno");
        setTimeout(function()
        {
            for (var i=0; i<4; i++)
            {
                if( model[i].IsTrue == true)
                {
                    el[i].classList.add("answer-button-right");

                }
                else
                {
                    el[i].classList.add("answer-button-wrong");
                }
            }
        }, 1000);

        $.ajax({
            url: "@Url.Action("Points", "Home")",
            data: model[answerNumber]
        });

        setTimeout(function(){ window.location.href = '@Url.Action("Game", "Home")' }, 3000);
    }
</script>
</head>

<body>
    <div class="container" style="margin-left: 50px; margin-right: 10px;">
        <img src="~/App_Images/sir.png" style="width: 140px; height: 190px; float:left;" /> 
        <div class="col col-lg-5 question-box">
            <h4>@Html.DisplayFor(model => model.question.Content)</h4>
        </div>
        <div class="col col-lg-5 coin-box">
            <h1>@Model.login.Points</h1>
            <!--
            <img src="~/App_Images/zlotowka.png" />
            <img src="~/App_Images/zlotowka.png" />
            <img src="~/App_Images/zlotowka.png" />
            <img src="~/App_Images/zlotowka.png" />
            <img src="~/App_Images/zlotowka.png" />
            <img src="~/App_Images/zlotowka.png" />
            <img src="~/App_Images/zlotowka.png" />
            <img src="~/App_Images/zlotowka.png" />
            -->
        </div>
    </div>
    <div class="col col-lg-12" style="margin-top: 50px;"></div>
    <div class="col col-lg-5 col-lg-offset-1">
        <img src="~/App_Images/challenge-prawo.png" style="height: 160px; width: 100px;" />
        <input type="button" value="@Html.DisplayFor(model => model.answers[0].Content)" class="answer-button" onclick="Answer(0)" />
    </div>
    <div class="col col-lg-5 col-lg-offset-1">
        <input type="button" value="@Html.DisplayFor(model => model.answers[1].Content)" class="answer-button" onclick="Answer(1)" />
        <img src="~/App_Images/challenge-lewo.png" style="height: 160px; width: 100px;" />
    </div>
    <div class="col col-lg-6" style="margin-top: 40px;"></div>
    <div class="col col-lg-6" style="margin-top: 40px;"></div>
    <div class="col col-lg-5 col-lg-offset-1">
        <img src="~/App_Images/challenge-prawo.png" style="height: 160px; width: 100px;" />
        <input type="button" value="@Html.DisplayFor(model => model.answers[2].Content)" class="answer-button" onclick="Answer(2)" />
    </div>
    <div class="col col-lg-5 col-lg-offset-1">
        <input type="button" value="@Html.DisplayFor(model => model.answers[3].Content)" class="answer-button" onclick="Answer(3)" />
        <img src="~/App_Images/challenge-lewo.png" style="height: 160px; width: 100px;" />
    </div>
</body>